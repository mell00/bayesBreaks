---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# bayesBreaks

`bayesBreaks` is an R package for detecting structural breaks in autoregressive time-series models. It bundles the
Metropolis–Hastings Bayesian Adaptive Auto-Regression (BAAR) sampler, a frequentist Bai–Perron style grid search, and a set of reproducible synthetic datasets for experimentation.

## What the package includes

- `baar()` / `baar_rcpp()` Metropolis–Hastings samplers that return posterior
  breakpoint draws, acceptance statistics, and log-likelihood diagnostics.
- `bai_perron_ar()` and `bai_perron_ar_rcpp()` helpers that search over
  breakpoint configurations up to a user-specified limit using BIC to select
  the best segmentation.
- Lightweight autoregressive fitting utilities plus `test_data_*()` generators
  and ready-to-use `data_*` series for quick prototyping.
- A "Getting started" vignette that walks through a full workflow from simulated
  data to posterior breakpoint inference.

## Installation

From an R session run `devtools::install("bayesBreaks")` or `R CMD INSTALL bayesBreaks`, then load the package and explore the examples below.

## Quick start

The snippet below fits both the frequentist and Bayesian breakpoint models to a
synthetic series bundled with the package. The Bai–Perron helper returns a
BIC-optimised configuration, and the BAAR sampler returns posterior breakpoint
draws you can summarise downstream.

```{r quick-start, eval=FALSE}
library(bayesBreaks)
series <- test_data_2()

# frequentist baseline using Bai–Perron style search
bai_results <- bai_perron_ar(series$data_2, order = 0, interval = 0.1,
  max_breaks = 2, progress = FALSE)

# Bayesian sampler exploring breakpoint posteriors
baar_draws <- baar(
  time = series$time,
  data = series$data_2,
  iterations = 200,
  burn_in = 50,
  ar = 1,
  progress = FALSE
)

bai_results$breakpoints
head(baar_draws$k_accept)
```

For a more detailed walkthrough, including visualisations of simulated data and
posterior breakpoint draws, run the accompanying vignette with
`vignette("bayesBreaks-vignette")`.
