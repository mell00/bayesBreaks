---
title: "Getting started with bayesBreaks"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting started with bayesBreaks}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
if (requireNamespace("bayesBreaks", quietly = TRUE)) {
  library(bayesBreaks)
} else {
  if (!requireNamespace("pkgload", quietly = TRUE)) {
    stop("Install bayesBreaks or pkgload to knit this vignette")
  }
  pkgload::load_all(export_all = FALSE)
}

if (!requireNamespace("ggplot2", quietly = TRUE)) {
  stop("Install ggplot2 to knit this vignette.")
}
library(ggplot2)

plot_theme <- function() {
  theme_minimal(base_size = 12) +
    theme(
      panel.grid.minor = element_blank(),
      plot.title.position = "plot",
      plot.title = element_text(face = "bold"),
      legend.position = "top",
      legend.title = element_blank()
    )
}

set.seed(600)  # keep all simulated draws reproducible
```

## Overview

The `bayesBreaks` package combines an autoregressive time-series fitter, a
frequentist Baiâ€“Perron style grid search, and a Bayesian breakpoint sampler.
This vignette walks through each component using the built-in simulated
datasets and shows how you would apply the same calls to your own series.

This vignette walks through a short workflow:

1. simulate a toy series with known breakpoints,
2. run the Bai-Perron search as a baseline, and
3. sample breakpoint configurations with `baar()`.

## Exploring the shipped test data

All of the development datasets are bundled in `data/` and can be loaded with
`data(<name>)`. They are two-column data frames with `time` indices and
a single response column. Below we visualize `data_2`, which contains two
clearly separated mean shifts.

```{r}
data(data_2)
plot(
  data_2$time, data_2$data_2,
  type = "l", col = "#1E88E5",
  xlab = "Time", ylab = "Value",
  main = "Example series: data_2"
)
```

If you want to generate new draws on the fly, you can also call the helper
functions (for example `test_data_2()`) directly after setting your own seed.
